spec_version: 2
description: Testing ansible grain.
inputs:
  instance_ip:
    type: string
    default: 0.0.0.0
outputs: {}
grains:
  # install-apache:
  #   kind: ansible
  #   spec:
  #     source:
  #       store: iac-assets
  #       path: ansible/install-apache.yml
  #     agent:
  #       name: adoc-vcenter
  #     inventory-file:
  #       all:
  #         hosts:
  #           '{{ .inputs.instance_ip }}':
  #         vars:
  #           ansible_user: centos
  #           ansible_ssh_private_key_file: /var/secrets/torque.pem
  
  hello-world:
    kind: ansible
    spec:
      source:
        store: iac-assets
        path: ansible/hello-world.yml
      agent:
        name: Quali
      inventory-file:
        all:
          hosts:
            host1:
              person_name: John
            host2:
          vars:
            person_name: John

  # local-task:
  #   kind: ansible
  #   spec:
  #     source:
  #       store: iac-assets
  #       path: ansible/local-task.yml
  #     agent:
  #       name: adoc-eks
  #     inventory-file:
  #       all:
  #         hosts:
  #           '{{ .inputs.instance_ip }}':
